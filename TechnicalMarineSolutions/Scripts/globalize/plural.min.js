/*!
 * Globalize v1.0.0 2015-04-23T12:02Z Released under the MIT license
 * http://git.io/TrdQbw
 */
(function(n,t){typeof define=="function"&&define.amd?define(["cldr","../globalize","cldr/event","cldr/supplemental"],t):typeof exports=="object"?module.exports=t(require("cldrjs"),require("globalize")):t(n.Cldr,n.Globalize)})(this,function(n,t){var u=t._validateCldr,s=t._validateDefaultLocale,f=t._validateParameterPresence,e=t._validateParameterType,h=t._validateParameterTypePlainObject,i,r,o;return i=function(){var u=function(n){return Array.isArray(n)?n:Array.from(n)},t=function(n){if(Array.isArray(n)){for(var t=0,i=Array(n.length);t<n.length;t++)i[t]=n[t];return i}return Array.from(n)},i=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");},r=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),f=function(){function n(){i(this,n)}return r(n,[{key:"parse",value:function(n){var t=this;return n==="i = 0 or n = 1"?"n >= 0 && n <= 1":n==="i = 0,1"?"n >= 0 && n < 2":n==="i = 1 and v = 0"?(this.v0=1,"n == 1 && v0"):n.replace(/([tv]) (!?)= 0/g,function(n,i,r){var u=i+"0";return t[u]=1,r?"!"+u:u}).replace(/\b[fintv]\b/g,function(n){return t[n]=1,n}).replace(/([fin]) % (10+)/g,function(n,i,r){var u=i+r;return t[u]=1,u}).replace(/n10+ = 0/g,"t0 && $&").replace(/(\w+ (!?)= )([0-9.]+,[0-9.,]+)/g,function(n,t,i,r){return n==="n = 0,1"?"(n == 0 || n == 1)":i?t+r.split(",").join(" && "+t):"("+t+r.split(",").join(" || "+t)+")"}).replace(/(\w+) (!?)= ([0-9]+)\.\.([0-9]+)/g,function(n,i,r,u,f){return Number(u)+1===Number(f)?r?""+i+" != "+u+" && "+i+" != "+f:"("+i+" == "+u+" || "+i+" == "+f+")":r?"("+i+" < "+u+" || "+i+" > "+f+")":i==="n"?(t.t0=1,"(t0 && n >= "+u+" && n <= "+f+")"):"("+i+" >= "+u+" && "+i+" <= "+f+")"}).replace(/ and /g," && ").replace(/ or /g," || ").replace(/ = /g," == ")}},{key:"vars",value:function(n){function t(){return n.apply(this,arguments)}return t.toString=function(){return n.toString()},t}(function(){var n=[],t,i;this.i&&n.push("i = s[0]");(this.f||this.v)&&n.push("f = s[1] || ''");this.t&&n.push("t = (s[1] || '').replace(/0+$/, '')");this.v&&n.push("v = f.length");this.v0&&n.push("v0 = !s[1]");(this.t0||this.n10||this.n100)&&n.push("t0 = Number(s[0]) == n");for(t in this)/^.10+$/.test(t)&&(i=t[0]==="n"?"t0 && s[0]":t[0],n.push(""+t+" = "+i+".slice(-"+t.substr(2).length+")"));return n.length?"var "+["s = String(n).split('.')"].concat(n).join(", "):""})}]),n}(),n=function(){function n(t){var r=arguments[1]===undefined?n:arguments[1],u=r.cardinals,e=r.ordinals;if(i(this,n),!u&&!e)throw new Error("At least one type of plural is required");return this.lc=t,this.categories={cardinal:[],ordinal:[]},this.parser=new f,this.fn=this.buildFunction(u,e),this.fn._obj=this,this.fn.categories=this.categories,this.fn.toString=this.fnToString.bind(this),this.fn}return r(n,[{key:"compile",value:function(i,r){var f=[],e=n.rules[i][this.lc],o;if(!e){if(r)throw new Error('Locale "'+this.lc+'" '+i+" rules not found");return this.categories[i]=["other"],"'other'"}for(o in e){var c=e[o].trim().split(/\s*@\w*/),s=u(c),h=s[0],a=s.slice(1),l=o.replace("pluralRule-count-","");h&&f.push([this.parser.parse(h),l])}return this.categories[i]=f.map(function(n){return n[1]}).concat("other"),f.length===1?"("+f[0][0]+") ? '"+f[0][1]+"' : 'other'":[].concat(t(f.map(function(n){return"("+n[0]+") ? '"+n[1]+"'"})),["'other'"]).join("\n      : ")}},{key:"buildFunction",value:function(n,i){var r=this,f=function(n){return n?(n[1]?"return ":"if (ord) return ")+r.compile.apply(r,t(n)):""},u={vars:function(n){return("  "+n+";").replace(/(.{1,78})(,|$) ?/g,"$1$2\n      ")},cond:function(n){return("  "+n+";").replace(/(.{1,78}) (\|\| |$) ?/gm,"$1\n          $2")}},e=[i&&["ordinal",!n],n&&["cardinal",!0]].map(f).map(u.cond),o=[u.vars(this.parser.vars())].concat(t(e)).join("\n").replace(/\s+$/gm,"").replace(/^[\s;]*[\r\n]+/gm,""),s=i&&n?"n, ord":"n";return new Function(s,o)}},{key:"fnToString",value:function(n){return Function.prototype.toString.call(this.fn).replace(/^function( \w+)?/,n?"function "+n:"function").replace("\n/**/","")}}],[{key:"load",value:function(){for(var i=arguments.length,r=Array(i),t=0;t<i;t++)r[t]=arguments[t];return r.forEach(function(t){var i=t&&t.supplemental||null;if(!i)throw new Error("Data does not appear to be CLDR data");n.rules={cardinal:i["plurals-type-cardinal"]||n.rules.cardinal,ordinal:i["plurals-type-ordinal"]||n.rules.ordinal}}),n}}]),n}();return n.cardinals=!0,n.ordinals=!1,n.rules={cardinal:{},ordinal:{}},n}(),r=function(n,t){e(n,t,n===undefined||typeof n=="number","Number")},o=function(n,t){e(n,t,n===undefined||n==="cardinal"||n==="ordinal",'String "cardinal" or "ordinal"')},t.plural=t.prototype.plural=function(n,t){return f(n,"value"),r(n,"value"),this.pluralGenerator(t)(n)},t.pluralGenerator=t.prototype.pluralGenerator=function(n){var t,c,l,e;h(n,"options");n=n||{};e=n.type||"cardinal";t=this.cldr;o(n.type,"options.type");s(t);c=e==="ordinal";t.on("get",u);return t.supplemental(["plurals-type-"+e,"{language}"]),t.off("get",u),i.rules={},i.rules[e]=t.supplemental("plurals-type-"+e),l=new i(t.attributes.language,{ordinals:c,cardinals:!c}),function(n){return f(n,"value"),r(n,"value"),l(n)}},t});